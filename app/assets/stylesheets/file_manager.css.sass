@import "compass/css3/box-sizing"
@import "compass/css3/transition"

@font-face
  font-family: 'fontello'
  src: url('../fonts/fontello.eot')
  src: url('../fonts/fontello.eot?#iefix') format('embedded-opentype'), url('../fonts/fontello.woff') format('woff'), url('../fonts/fontello.svg#webfont3yLmuNsx') format('svg'), url('../fonts/fontello.ttf') format('truetype')
  font-weight: normal
  font-style: normal

$element_margin: 10px
$element_padding: 10px

=awesome-hover
  +transition(color .3s linear)

=font_icon($icon)
  &:before
    content: '\e8'+$icon

.file-manager
  width: 100%
  position: relative
  display: inline-block

  .settings
    text-align: center
    position: absolute
    top: -10px
    left: -10px
    background: #fff
    width: 100%
    height: 100%
    z-index: 2
    padding-right: 20px
    padding-bottom: 20px
    border-radius: 2px
    background: rgba(255, 255, 255, .8)
    // TODO: show animation
    .options
      margin: 0 0 0 15px
      width: 100%
      text-align: left
      .option-title
        margin: 10px 0
      .search
        display: inline-block
    .title
      width: 100%
      margin: 10px
    .menu
      width: 100%
      position: absolute
      bottom: 0
      .button
        display: inline-block
        margin: 10px

  .moxie-shim
    top: initial !important
    bottom: 0

  .path-part, .folder, .upload
    cursor: pointer

  .item
    float: left
    cursor: pointer
    width: 95px
    position: relative
    margin: $element_margin
    padding: $element_padding
    text-align: center

    &:hover .menu
      display: block
      opacity: 1

    .menu
      +transition(opacity .6s linear)
      opacity: 0
      position: absolute
      top: 0
      right: 0
      width: 20px
      a
        display: inline-block
        text-decoration: none
        color: #555
        &:hover:before
          color: #66b7ef

        &.action
          &:before
            +transition(color .3s linear)
            font-family: 'fontello'
            font-size: 20px

        &.lock
          +font_icon('25')
        &.unlock
          +font_icon('24')
        &.download
          +font_icon('0a')
        &.item-settings
          +font_icon('07')

    &:before
      +transition(color .3s linear)
      font-family: 'fontello'
      font-size: 55px
      color: #555
    &.selected, &:hover
      &:before
        color: #66b7ef

  .folder
    +transition(text-shadow .3s linear)
    &.drag-target:before
      text-shadow: 0 0 5px black
    &.drag-over:before
      color: #66b7ef
      text-shadow: 0 0 5px #66b7ef

  .action-buttons
    .action-button
      text-decoration: none
      color: #555
      display: inline-block
      margin: 10px
      +transition(color .3s linear)
      &:before
        font-family: 'fontello'
        font-size: 20px
      &:hover
        color: #66b7ef
    .copy
      +font_icon('04')
    .cut
      +font_icon('1f')
    .paste
      +font_icon('1e')

  .path
    +box-sizing(border-box)
    width: 100%
    height: 30px
    background: #666
    color: #fff
    border-radius: 3px
    border: 1px solid #bac3cb
    line-height: 30px
    padding: 0 10px

  .path-part
    display: inline-block
    margin-left: 5px
    &:after
      content: ' >'

  .folder
    +font_icon('22')

  .upload
    +font_icon('23')

  &.small
    .item
      +box-sizing(border-box)
      width: 100%
      text-align: left
      margin: 0
      clear: both
      &:before
        font-size: 30px

      .menu
        float: right
        position: static
        width: auto

        .action
          margin: 0 5px
          position: relative
          top: 10px
          &:before
            font-size: 15px

      .name
        display: inline
        position: relative
        left: 10px
        bottom: 5px

    .action-buttons .action-button:before
      font-size: 15px